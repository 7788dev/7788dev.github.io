<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta property="og:description" content="傲骨心的博客"><meta property="og:type" content="website"><meta name="description" content="傲骨心的博客"><meta name="keyword" content="hexo,傲骨心,傲骨心的博客,技术开发,编程开发"><meta http-equiv="Cache-Control" content="max-age=31536000"><link rel="dns-prefetch" href="//cdn.bootcss.com"><link rel="dns-prefetch" href="//at.alicdn.com"><link rel="dns-prefetch" href="//busuanzi.ibruce.info"><link rel="dns-prefetch" href="//giscus.app"><link rel="shortcut icon" href="/img/favicon.ico"><title>本站同款启动页 - Aoguxin Blog</title><link rel="stylesheet" href="/css/aircloud.css"><link rel="preload" href="/img/avatar.jpg" as="image"><link rel="stylesheet" href="/css/gitment.css"><link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css" media="print" onload="this.media='all'"<script></script><meta name="generator" content="Hexo 7.3.0"></head><body class="splash-active"><div class="site-nav-toggle" id="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div><div class="index-about"><i>Form is emptiness, emptiness is form</i></div><div class="index-container"><div class="index-left"><div class="nav" id="nav"><div class="avatar-name"><div class="avatar"><img src="/img/avatar.jpg" loading="eager" decoding="sync"></div><div class="name"><i>Aoguxin</i></div></div><div class="contents" id="nav-content"><ul><li><a href="/"><i class="iconfont icon-shouye1"></i> <span>主页</span></a></li><li><a href="/tags"><i class="iconfont icon-biaoqian1"></i> <span>标签</span></a></li><li><a href="/archives"><i class="iconfont icon-guidang2"></i> <span>存档</span></a></li><li><a href="/collect/"><i class="iconfont icon-shoucang1"></i> <span>收藏</span></a></li><li><a href="/about/"><i class="iconfont icon-guanyu2"></i> <span>关于</span></a></li><li><a id="search"><i class="iconfont icon-sousuo1"></i> <span>搜索</span></a></li></ul></div><div id="toc" class="toc-article"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">前言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-text">代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-text">安装步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BF%AE%E6%94%B9"><span class="toc-text">自定义修改</span></a></li></ol></div></div><div class="search-field" id="search-field"><div class="search-bg" id="search-bg"></div><div class="search-container"><div class="search-input"><span id="esc-search"><i class="icon-fanhui iconfont"></i></span> <input id="search-input"> <span id="begin-search">搜索</span></div><div class="search-result-container" id="search-result-container"></div></div></div><div class="index-about-mobile"><i>Form is emptiness, emptiness is form</i></div></div><div class="index-middle"><div class="post-container"><div class="post-title">本站同款启动页</div><div class="post-meta"><span class="attr">发布于：<span>2025-07-30 17:29:49</span></span> <span class="attr">标签：/ <a class="tag" href="/tags/#部署博客" title="部署博客">部署博客</a> <span>/</span> </span><span class="attr">访问：<span id="busuanzi_value_page_pv"></span></span></div><div class="post-content no-indent"><h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>好久没更新了,其实早就想把这篇文章写完,一直拖</p><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><p>css</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 防止开屏动画期间页面滚动和主内容闪烁 */</span></span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.splash-active</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment"> * 当 JS 移除 body.splash-active 类后，主内容区会平滑淡入。</span></span><br><span class="line"><span class="comment"> * 请确保 &#x27;.index-container&#x27; 是您首页主内容区域的正确选择器。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.splash-active</span> <span class="selector-class">.index-container</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: opacity <span class="number">0.8s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 开屏动画容器 */</span></span><br><span class="line"><span class="selector-class">.splash-screen</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">9999</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#121212</span>;</span><br><span class="line">    <span class="attribute">transition</span>: background-color <span class="number">1.5s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0.3</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">/* 性能优化 */</span></span><br><span class="line">    <span class="attribute">will-change</span>: background-color;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="number">0</span>); <span class="comment">/* 启用硬件加速 */</span></span><br><span class="line">    <span class="attribute">backface-visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 颜色反转时的状态 */</span></span><br><span class="line"><span class="selector-class">.splash-screen</span><span class="selector-class">.invert-colors</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ffffff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logo-text</span> &#123;</span><br><span class="line">    <span class="comment">/* 优化字体栈：优先使用系统字体，确保快速加载和国内可访问性 */</span></span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;Times New Roman&quot;</span>, <span class="string">&quot;Songti SC&quot;</span>, <span class="string">&quot;SimSun&quot;</span>, <span class="string">&quot;serif&quot;</span>, <span class="string">&quot;STSong&quot;</span>, <span class="string">&quot;华文宋体&quot;</span>, <span class="string">&quot;宋体&quot;</span>, serif;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="built_in">clamp</span>(<span class="number">40px</span>, <span class="number">12vw</span>, <span class="number">110px</span>);</span><br><span class="line">    <span class="attribute">transition</span>: opacity <span class="number">0.8s</span> ease-out, transform <span class="number">0.8s</span> ease-out;</span><br><span class="line">    <span class="comment">/* 添加字体渲染优化 */</span></span><br><span class="line">    -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">    -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">    <span class="attribute">text-rendering</span>: optimizeLegibility;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Logo 退场状态 */</span></span><br><span class="line"><span class="selector-class">.logo-text</span><span class="selector-class">.hidden</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">60px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logo-word</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logo-word</span> + <span class="selector-class">.logo-word</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="built_in">clamp</span>(<span class="number">15px</span>, <span class="number">4vw</span>, <span class="number">40px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.char-container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">vertical-align</span>: bottom;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">110%</span>);</span><br><span class="line">    <span class="attribute">animation</span>: reveal <span class="number">1.2s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.23</span>, <span class="number">1</span>, <span class="number">0.32</span>, <span class="number">1</span>) forwards;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f0f0f0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: color <span class="number">1.5s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0.3</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">/* 性能优化 */</span></span><br><span class="line">    <span class="attribute">will-change</span>: transform, color;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">110%</span>) <span class="built_in">translateZ</span>(<span class="number">0</span>); <span class="comment">/* 硬件加速 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 颜色反转时，字体颜色同步变化 */</span></span><br><span class="line"><span class="selector-class">.splash-screen</span><span class="selector-class">.invert-colors</span> <span class="selector-class">.logo-text</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#1a1a1a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> reveal &#123;</span><br><span class="line">    <span class="selector-tag">to</span> &#123; <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 为 &quot;Aoguxin Blog&quot; 11个字母编排延迟 */</span></span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char1</span>  &#123; <span class="attribute">animation-delay</span>: <span class="number">0.2s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char2</span>  &#123; <span class="attribute">animation-delay</span>: <span class="number">0.3s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char3</span>  &#123; <span class="attribute">animation-delay</span>: <span class="number">0.4s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char4</span>  &#123; <span class="attribute">animation-delay</span>: <span class="number">0.5s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char5</span>  &#123; <span class="attribute">animation-delay</span>: <span class="number">0.6s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char6</span>  &#123; <span class="attribute">animation-delay</span>: <span class="number">0.7s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char7</span>  &#123; <span class="attribute">animation-delay</span>: <span class="number">0.8s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char8</span>  &#123; <span class="attribute">animation-delay</span>: <span class="number">0.9s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char9</span>  &#123; <span class="attribute">animation-delay</span>: <span class="number">1.0s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char10</span> &#123; <span class="attribute">animation-delay</span>: <span class="number">1.1s</span>; &#125;</span><br><span class="line"><span class="selector-class">.logo-text</span> <span class="selector-class">.char11</span> &#123; <span class="attribute">animation-delay</span>: <span class="number">1.2s</span>; &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 移动设备优化 - 简化动画以提升性能 */</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.logo-text</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="built_in">clamp</span>(<span class="number">32px</span>, <span class="number">10vw</span>, <span class="number">80px</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 在小屏幕设备上减少动画复杂度 */</span></span><br><span class="line">    <span class="selector-class">.logo-text</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">        <span class="attribute">animation-duration</span>: <span class="number">1.0s</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 低性能设备优化 - 减少动画效果 */</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-reduced-motion</span>: reduce) &#123;</span><br><span class="line">    <span class="selector-class">.logo-text</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">        <span class="attribute">animation</span>: none;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.splash-screen</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.logo-text</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来就是javascript</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 开屏动画</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * By.Looks</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="string">&#x27;use.strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 性能优化：如果设备性能较差，跳过动画</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">isLowPerformanceDevice</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (navigator.<span class="property">deviceMemory</span> &amp;&amp; navigator.<span class="property">deviceMemory</span> &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;跳过开屏动画：检测到低性能设备&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (navigator.<span class="property">connection</span> &amp;&amp; navigator.<span class="property">connection</span>.<span class="property">effectiveType</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> slowConnections = [<span class="string">&#x27;slow-2g&#x27;</span>, <span class="string">&#x27;2g&#x27;</span>];</span><br><span class="line">            <span class="keyword">if</span> (slowConnections.<span class="title function_">includes</span>(navigator.<span class="property">connection</span>.<span class="property">effectiveType</span>)) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;跳过开屏动画：检测到慢速网络&#x27;</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 检查是否为首页</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">isHomePage</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> path = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>;</span><br><span class="line">        <span class="keyword">const</span> root = <span class="variable language_">window</span>.<span class="property">hexo_root</span> || <span class="string">&#x27;/&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> path === root || path === root + <span class="string">&#x27;index.html&#x27;</span> || path === root + <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 检查是否已经显示过开屏动画</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">hasShownSplash</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;splash_shown&#x27;</span>) === <span class="string">&#x27;true&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 标记开屏动画已显示</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">markSplashShown</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;splash_shown&#x27;</span>, <span class="string">&#x27;true&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 创建开屏动画HTML结构</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">createSplashHTML</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;splash-screen&quot; id=&quot;splashScreen&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;logo-text&quot; id=&quot;logoText&quot;&gt;</span></span><br><span class="line"><span class="string">                    &lt;div class=&quot;logo-word&quot;&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char1&quot;&gt;A&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char2&quot;&gt;o&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char3&quot;&gt;g&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char4&quot;&gt;u&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char5&quot;&gt;x&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char6&quot;&gt;i&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char7&quot;&gt;n&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;</span></span><br><span class="line"><span class="string">                    &lt;div class=&quot;logo-word&quot;&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char8&quot;&gt;B&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char9&quot;&gt;l&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char10&quot;&gt;o&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                        &lt;div class=&quot;char-container&quot;&gt;&lt;span class=&quot;char11&quot;&gt;g&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                    &lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 核心初始化函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">initSplashScreen</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> body = <span class="variable language_">document</span>.<span class="property">body</span>;</span><br><span class="line">            <span class="comment">// 防御性检查：如果页面上已经有动画，先移除，防止重复</span></span><br><span class="line">            <span class="keyword">const</span> existingSplash = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;splashScreen&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span> (existingSplash) &#123;</span><br><span class="line">                existingSplash.<span class="title function_">remove</span>();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!<span class="title function_">isHomePage</span>() || <span class="title function_">hasShownSplash</span>() || <span class="title function_">isLowPerformanceDevice</span>()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="title function_">hasShownSplash</span>() || <span class="title function_">isLowPerformanceDevice</span>()) &#123;</span><br><span class="line">                    <span class="title function_">markSplashShown</span>();</span><br><span class="line">                &#125;</span><br><span class="line">                body.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;splash-active&#x27;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="title function_">markSplashShown</span>();</span><br><span class="line">            body.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;splash-active&#x27;</span>);</span><br><span class="line">            <span class="keyword">const</span> splashHTML = <span class="title function_">createSplashHTML</span>();</span><br><span class="line">            body.<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;afterbegin&#x27;</span>, splashHTML);</span><br><span class="line">            <span class="title function_">startAnimationTimeline</span>();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;开屏动画初始化失败:&#x27;</span>, error);</span><br><span class="line">            <span class="keyword">const</span> splashScreen = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;splashScreen&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span> (splashScreen) splashScreen.<span class="title function_">remove</span>();</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;splash-active&#x27;</span>);</span><br><span class="line">            <span class="title function_">markSplashShown</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">startAnimationTimeline</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> splashScreen = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;splashScreen&#x27;</span>);</span><br><span class="line">            <span class="keyword">const</span> logoText = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;logoText&#x27;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!splashScreen || !logoText) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;开屏动画元素未找到，提前结束。&#x27;</span>);</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;splash-active&#x27;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">const</span> inversionStartTime = <span class="number">2800</span>;</span><br><span class="line">            <span class="keyword">const</span> logoFadeOutTime = inversionStartTime + <span class="number">1500</span>;</span><br><span class="line">            <span class="keyword">const</span> finalCleanupTime = logoFadeOutTime + <span class="number">1000</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (splashScreen) splashScreen.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;invert-colors&#x27;</span>);</span><br><span class="line">            &#125;, inversionStartTime);</span><br><span class="line">            </span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (logoText) logoText.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;hidden&#x27;</span>);</span><br><span class="line">            &#125;, logoFadeOutTime);</span><br><span class="line">        </span><br><span class="line">            <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (splashScreen) splashScreen.<span class="title function_">remove</span>();</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;splash-active&#x27;</span>);</span><br><span class="line">            &#125;, finalCleanupTime);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;开屏动画执行失败:&#x27;</span>, error);</span><br><span class="line">            <span class="keyword">const</span> splashScreen = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;splashScreen&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span> (splashScreen) splashScreen.<span class="title function_">remove</span>();</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;splash-active&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="title function_">initSplashScreen</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">MutationObserver</span>(<span class="function">(<span class="params">mutations</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> mutation <span class="keyword">of</span> mutations) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mutation.<span class="property">type</span> === <span class="string">&#x27;childList&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">// 当 DOM 变化时，重新运行初始化逻辑</span></span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;检测到页面内容变化，重新初始化开屏动画逻辑。&#x27;</span>);</span><br><span class="line">                <span class="title function_">initSplashScreen</span>();</span><br><span class="line">                <span class="keyword">break</span>; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    observer.<span class="title function_">observe</span>(<span class="variable language_">document</span>.<span class="property">body</span>, &#123;</span><br><span class="line">        <span class="attr">childList</span>: <span class="literal">true</span>, </span><br><span class="line">        <span class="attr">subtree</span>: <span class="literal">true</span> </span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>关键特性：同一会话只会展示一次,关闭浏览器打开重新展示</p><h4 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h4><ol><li><p><strong>创建CSS文件</strong><br>在主题的<code>source/css/</code>目录下创建<code>splash-screen.css</code>文件，复制上面的CSS代码</p></li><li><p><strong>创建JS文件</strong><br>在主题的<code>source/js/</code>目录下创建<code>splash-screen.js</code>文件，复制上面的JS代码</p></li><li><p><strong>引入资源文件</strong><br>在主题的<code>layout/_partial/head.ejs</code>中添加以下代码：</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 开屏动画CSS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- url_for(&#x27;/css/splash-screen.css&#x27;) %&gt;&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 开屏动画JS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%- url_for(&#x27;/js/splash-screen.js&#x27;) %&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li><p><strong>确保首页容器正确</strong><br>确保你的首页主内容区域使用了<code>.index-container</code>类名，或者修改CSS中的选择器以匹配你的主题结构</p></li><li><p><strong>在首页body 添加splash-active类名</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;splash-active&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// 此处为首页主内容区域</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>原本这里是根据动态js添加类名的 但是会出现**(FOUC)** 问题。</p></li></ol><h4 id="自定义修改"><a href="#自定义修改" class="headerlink" title="自定义修改"></a>自定义修改</h4><ol><li><p><strong>修改文字内容</strong>：<br>在<code>splash-screen.js</code>中找到<code>createSplashHTML()</code>函数，修改其中的字母和数量</p></li><li><p><strong>调整动画时间</strong>：</p><ul><li>CSS中修改<code>animation-delay</code>属性调整字母出现时间</li><li>JS中修改<code>inversionStartTime</code>等变量调整动画阶段时间</li></ul></li><li><p><strong>更改颜色方案</strong>：<br>修改CSS中的<code>background-color</code>和文字颜色</p></li><li><p><strong>调整字体</strong>：<br>修改<code>.logo-text</code>中的<code>font-family</code>属性</p></li></ol><br><div id="comment-container"></div><div id="disqus_thread"></div><div id="lv-container"></div><div class="giscus"></div></div></div></div></div><footer class="footer"><ul class="list-inline text-center"></ul><p><span>/</span> <span><a target="_blank" rel="noopener" href="https://778801.xyz">十年之约</a></span> <span>/</span> <span><a target="_blank" rel="noopener" href="https://www.bing.com/search?q=技术博客">搜一搜:技术博客</a></span> <span>/</span></p><p><span id="busuanzi_container_site_pv"><span id="busuanzi_value_site_pv"></span>PV </span><span id="busuanzi_container_site_uv"><span id="busuanzi_value_site_uv"></span>UV </span>Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p></footer></body><script>window.hexo_search_path="search.json",window.hexo_root="/",window.isPost=!0</script><script defer src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><script defer src="/js/index.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://giscus.app/client.js" data-repo="7788dev/blog" data-repo-id="R_kgDOPQa4Ig" data-category="Announcements" data-category-id="DIC_kwDOPQa4Is4CtQJQ" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="zh-CN" crossorigin="anonymous" async></script></html>